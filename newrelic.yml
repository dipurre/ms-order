# New Relic Java Agent Configuration
# Documentation: https://docs.newrelic.com/docs/agents/java-agent/configuration/java-agent-configuration-config-file

common: &default_settings
  license_key: '<%= license_key %>'
  app_name: ms-order

  # High Security Mode - Previene envío de datos sensibles a New Relic
  # Requiere habilitarlo también en la cuenta de New Relic (Settings > High Security)
  high_security: false

  # Application Logging
  application_logging:
    # Habilitado solo para métricas, el envío de logs lo hace nuestro appender
    enabled: true
    forwarding:
      # DESACTIVADO: Usamos MaskingNewRelicLogApiAppender que ofusca y envía logs
      enabled: false
    local_decorating:
      # ACTIVADO: Necesario para que trace.id y span.id estén disponibles en el contexto
      enabled: false
    metrics:
      # ACTIVADO: Para ver estadísticas de logs en New Relic (logs/min, por nivel, etc.)
      enabled: true


  # Labels
  labels:
    team: backend
    service: diegoip_ms-order

prod:
  <<: *default_settings

dev:
  <<: *default_settings
  app_name: ms-order[dev]
  
qa:
  <<: *default_settings
  app_name: ms-order[qa]
